{% extends "base.html" %}

{% block content %}
<header style="margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: center;">
    <h1>Financial Goals</h1>
    <button class="btn btn-primary" onclick="openGoalModal()">+ Add Goal</button>
</header>

<div style="background: var(--card-bg); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
    <h2
        style="font-size: 1rem; color: var(--text-muted); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 1px;">
        Goal Trajectory</h2>
    <div style="position: relative; height: 300px;">
        <canvas id="goalChart"></canvas>
    </div>
</div>

<div id="goals-container" style="display: grid; gap: 1rem;">
    <!-- Goals injected here -->
</div>

<!-- Modal -->
<div class="modal" id="goal-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="modal-title">Add Goal</h2>
            <button class="modal-close" onclick="closeGoalModal()">&times;</button>
        </div>
        <div class="form-group"><label>Description</label><input type="text" id="desc"
                placeholder="e.g., European Summer Trip"></div>
        <div class="form-row">
            <div class="form-group"><label>Target ($)</label><input type="number" id="target" step="100"
                    placeholder="5000"></div>
            <div class="form-group"><label>Deadline</label><input type="date" id="deadline"></div>
        </div>
        <div class="form-group"><label>Current Saved ($)</label><input type="number" id="current" value="0"></div>
        <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="saveGoal()">Save Goal</button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/goals.js') }}"></script>
{% endblock %}